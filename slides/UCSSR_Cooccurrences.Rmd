---
title: "Using Corpora in Social Science Research (UCSSR)"
subtitle: 'Grundlagen der Kookkurrenz-Analyse'
author: "Andreas Blaette"
date: "25. Juli 2018"
output:
  slidy_presentation:
    footer: Copyright (c) 2018, Andreas Blaette
  beamer_presentation: default
  ioslides_presentation: default
editor_options: 
  chunk_output_type: console
---

<style type="text/css"> .fulltext {font-size: 70%;} </style> 

```{r klippy, echo=FALSE, include=TRUE}
klippy::klippy()
```

## Kollokations- bzw. Kookkurrenz-Analysen

"You shall know a word by the company it keeps." Dieser Satz von John Rupert Firth ist ein treibendes Motiv der Linguistik. Bedeutungen von Worten lassen sich durch Wortumfeldanalysen erfassen. Textstatistische Methoden sind dabei heute fest etabliert und sind als Kollokations- bzw. Kookkurrenzanalysen etabliert.

Im polmineR-Paket ist die `cooccurrences()`-Methode implementiert. Kookkurrenzen können mit Chi-Quadrat-Tests, Log-likelihood-Tests, einem T-Test und Pointwise Mutual Information (PMI) berechnet werden.

Ziel dieses Tutorials ist nicht, die verschiedenen statistischen Maße zu erläutern, sondern Workflows darzustellen, wie Kookkurrenz-Analysen in polmineR durchgeführt werden können. Besonders behandelt werden dabei:

- Fragen der Interpretation textstatistischer Werte;
- Möglichkeiten der Visualisierung von Kookkurrenzen.

----

## Installationen

Die folgenden Erläuterungen nutzen das `polmineR`-Paket und das `GermaParl`-Korpus. Die Installation werden in einem gesonderten Foliensatz erläutert.

Bitte beachten Sie, dass Teile der Funktionalität für den folgenden Workflow erst mit polmineR-Version `r as.package_version("0.7.9.9006")` zur Verfügung steht. Installieren Sie bei Bedarf die aktuelle Entwicklungsversion von polmineR.

```{r update_polmineR, eval = TRUE}
if (packageVersion("polmineR") < as.package_version("0.7.9.9006"))
  devtools::install_github("PolMine/polmineR", ref = "dev")
```

Ergänzend nutzen wir die Pakete `magrittr`, `wordcloud` und `RColorBrewer`. Dieses ermöglicht es, R-Befehle in einer "Pipe"" hintereinander zu verketten. Der folgende Code prüft, ob dieses Paket installiert und nimmt die Installation vor, insofern dies erforderlich ist.

```{r install_required_packages, eval = TRUE}
required_packages <- c("magrittr", "wordcloud", "RColorBrewer")
for (pkg in required_packages){
  if (pkg %in% rownames(installed.packages()) == FALSE) install.packages(pkg)
}
```


----

## Erste Schritte

Um loszulegen, laden wir das polmineR-Paket und aktivieren wir das GermaParl-Korpus

```{r}
library(polmineR)
use("GermaParl")
```

An dieser Stelle laden wir auch die zusätzliche Pakete

```{r}
library(magrittr)
library(wordcloud)
library(RColorBrewer)
```

Damit sind wir auch schon startklar, Kookkurrenzen zu berechnen.

---

Eine immer wiederkehrende Diskussion betrifft die Frage der politischen Sichtweise des Islams und der Muslime in Deutschland. In einem ersten Schritt berechnen wir die Kookkurrenzen zu "Muslimen" im Korpus.

```{r}
islam_cooc <- cooccurrences("GERMAPARL", query = "Muslime", p_attribute = "word")
```

Kookkurrenzen zu berechnen bedeutet, das statistisch signifkant im Wortumfeld eines Suchbegriffs überzufällig oft auftretende Vokabular zu ermitteln. Bevor wir das eigentliche statistische Ergebnis ansehen, verschaffen wir uns einen Überblick. Die erste Vorfrage wäre, wie oft eigentlich unser Suchbegriff ("Muslime") im Korpus auftritt.

```{r}
count(islam_cooc)
```

Und dann sollten wir uns dafür interessieren, wie viele statistisch auffällige Begriff identifiziert wurden.

```{r}
summary(islam_cooc)
```

---

```{r, echo = FALSE}
as(islam_cooc, "htmlwidget")
```

----


```{r, echo = FALSE, message = FALSE}
partition("GERMAPARL", speaker = "Angela Merkel", date = "2016-09-07") %>%
  html(height = "90%")
```